:root{
  --bg1:#07070a;
  --bg2:#10121a;
  --panel:#141726;
  --panel2:#0f1220;
  --text:#f3f6ff;
  --muted:#a7b0c8;

  --common1:#2b2f3d; --common2:#4b5268;
  --rare1:#6a4cff; --rare2:#a37bff;
  --myth1:#ff4dd8; --myth2:#ff8be8;
  --ultra1:#ffcc00; --ultra2:#ff7a00;

  --shadow: 0 30px 70px rgba(0,0,0,.65);
  --softshadow: 0 18px 40px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(900px 500px at 20% 15%, rgba(106,76,255,.25), transparent 60%),
    radial-gradient(900px 500px at 80% 0%, rgba(255,204,0,.18), transparent 55%),
    radial-gradient(900px 600px at 50% 90%, rgba(0,200,255,.10), transparent 60%),
    linear-gradient(180deg, var(--bg2), var(--bg1));
  overflow-x:hidden;
}
body::after{
  content:"";
  position:fixed; inset:0; pointer-events:none;
  opacity:.10;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 1px, transparent 1px 4px);
  mix-blend-mode: overlay;
  z-index:0;
}

.app{min-height:100%; display:flex; flex-direction:column; position:relative; z-index:1}
.topbar{
  padding:22px 18px 10px;
  display:flex; gap:16px; align-items:flex-end; justify-content:space-between;
  max-width:1100px; width:100%; margin:0 auto;
}
.badgeRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
.badge{
  display:inline-flex; align-items:center;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.10);
  padding:6px 10px; border-radius:999px;
  font-size:12px; color:#e9edff;
}
.badge.ghost{background:rgba(255,255,255,.06)}
.title{margin:8px 0 2px; letter-spacing:.5px; font-size:30px}
.subtitle{margin:0; color:var(--muted); font-size:13px}

.hud{display:flex; gap:10px}
.stat{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:10px 12px;
  min-width:92px;
  text-align:right;
}
.label{display:block; color:var(--muted); font-size:12px}
.value{display:block; font-weight:900; font-size:18px}

.tabs{
  max-width:1100px; width:100%; margin:0 auto;
  padding:0 18px 12px;
  display:flex; gap:10px; flex-wrap:wrap;
}
.tab{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:var(--text);
  border-radius:999px;
  padding:10px 14px;
  cursor:pointer;
  font-weight:800;
}
.tab.active{
  background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
  box-shadow: 0 14px 28px rgba(0,0,0,.25);
}

.stage{
  position:relative;
  flex:1;
  display:grid;
  place-items:center;
  padding:12px 18px 28px;
}
.view{ width:100%; max-width:1100px; }

.panel{
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(15,18,32,.85));
  border:1px solid rgba(255,255,255,.12);
  border-radius:30px;
  padding:18px;
  box-shadow: var(--shadow);
}
.panelHead{display:flex; justify-content:space-between; align-items:flex-start; gap:12px; margin-bottom:14px}
.h2{margin:0; font-size:20px; font-weight:1000}
.muted{margin:6px 0 0; color:var(--muted); font-size:13px}
.row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
.spread{display:flex; justify-content:space-between; align-items:center; gap:12px}

.pill{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:var(--text);
  border-radius:999px;
  padding:8px 12px;
  cursor:pointer;
  font-weight:800;
}
.pill:disabled{opacity:.55; cursor:not-allowed}

.cta{
  border:0; border-radius:18px; cursor:pointer;
  padding:14px 14px 12px;
  background: linear-gradient(180deg, rgba(255,204,0,.95), rgba(255,122,0,.92));
  color:#1a1400; font-weight:1000; letter-spacing:.5px;
  box-shadow: 0 18px 35px rgba(255,140,0,.18), 0 20px 40px rgba(0,0,0,.40);
  transition: transform .08s ease;
}
.cta:active{transform:scale(.98)}
.cta.small{padding:12px 16px; border-radius:16px}

.grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:12px;
}
@media (max-width:980px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
.card{
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  border-radius:24px;
  padding:14px;
  box-shadow: var(--softshadow);
  position:relative;
  overflow:hidden;
}
.cardTop{display:flex; justify-content:space-between; align-items:center; gap:10px}
.bigIcon{
  width:56px;height:56px;border-radius:18px;
  display:grid;place-items:center;
  background:rgba(0,0,0,.20);
  border:1px solid rgba(255,255,255,.10);
  font-size:28px;
  box-shadow: var(--softshadow);
}
.tag{
  display:inline-flex;
  padding:6px 10px;
  border-radius:999px;
  font-weight:1000; font-size:12px;
  border:1px solid rgba(255,255,255,.14);
}
.tag.common{ background: linear-gradient(90deg, rgba(75,82,104,.65), rgba(43,47,61,.65)); }
.tag.rare{ background: linear-gradient(90deg, rgba(106,76,255,.75), rgba(163,123,255,.75)); }
.tag.mythic{ background: linear-gradient(90deg, rgba(255,77,216,.75), rgba(255,139,232,.75)); }
.tag.ultra{ background: linear-gradient(90deg, rgba(255,204,0,.85), rgba(255,122,0,.85)); color:#1a1400; }

.overlay{position:fixed; inset:0; background:rgba(0,0,0,.55); z-index:40}
.hidden{display:none !important}
.fx{position:fixed; inset:0; pointer-events:none; z-index:60}

/* ===== Timing Bar (Stop-the-needle gacha) ===== */
.barWrap{
  margin-top: 10px;
  background: rgba(0,0,0,.18);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 22px;
  padding: 14px;
}

.skillLabel{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--muted);
  margin-bottom:10px;
}

.barContainer{
  position:relative;
  height:28px;
  border-radius:999px;
  overflow:hidden;
  background:#0b0d16;
  border:1px solid rgba(255,255,255,.10);
}

.zone{ position:absolute; top:0; bottom:0; }
.zone-common{ left:0; width:55%; background:linear-gradient(90deg, var(--common1), var(--common2)); }
.zone-rare{ left:55%; width:30%; background:linear-gradient(90deg, var(--rare1), var(--rare2)); }
.zone-ultra{ right:0; width:15%; background:linear-gradient(90deg, var(--ultra1), var(--ultra2)); }

.needle{
  position:absolute;
  top:-9px;
  width:10px; height:46px;
  border-radius:6px;
  background:linear-gradient(180deg, #fff, rgba(255,255,255,.6));
  box-shadow:0 0 16px rgba(255,255,255,.7);
  left:0;
}

.shine{
  position:absolute;
  inset:0;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  transform:translateX(-60%);
  animation: shine 1.2s linear infinite;
  pointer-events:none;
}
@keyframes shine{ to{ transform:translateX(60%);} }
